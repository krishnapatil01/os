#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define MAX 100

struct Address {
    char name[50];
    char phone[15];
    char email[50];
};

struct Address book[MAX];
int count = 0;

void createBook() {
    count = 0;
    printf("\nAddress book created successfully!\n");
}

void viewBook() {
    if (count == 0) {
        printf("\nAddress book is empty.\n");
        return;
    }
    printf("\n------ Address Book ------\n");
    for (int i = 0; i < count; i++) {
        printf("\nRecord %d\n", i + 1);
        printf("Name: %s\n", book[i].name);
        printf("Phone: %s\n", book[i].phone);
        printf("Email: %s\n", book[i].email);
    }
}

void insertRecord() {
    if (count >= MAX) {
        printf("\nAddress book is full!\n");
        return;
    }
    printf("\nEnter name: ");
    scanf(" %[^\n]", book[count].name);
    printf("Enter phone: ");
    scanf(" %[^\n]", book[count].phone);
    printf("Enter email: ");
    scanf(" %[^\n]", book[count].email);
    count++;
    printf("\nRecord inserted successfully!\n");
}

void deleteRecord() {
    char name[50];
    printf("\nEnter name to delete: ");
    scanf(" %[^\n]", name);

    int found = 0;
    for (int i = 0; i < count; i++) {
        if (strcmp(book[i].name, name) == 0) {
            found = 1;
            for (int j = i; j < count - 1; j++) {
                book[j] = book[j + 1];
            }
            count--;
            printf("\nRecord deleted successfully!\n");
            break;
        }
    }
    if (!found)
        printf("\nRecord not found!\n");
}

void modifyRecord() {
    char name[50];
    printf("\nEnter name to modify: ");
    scanf(" %[^\n]", name);

    int found = 0;
    for (int i = 0; i < count; i++) {
        if (strcmp(book[i].name, name) == 0) {
            found = 1;
            printf("\nEnter new name: ");
            scanf(" %[^\n]", book[i].name);
            printf("Enter new phone: ");
            scanf(" %[^\n]", book[i].phone);
            printf("Enter new email: ");
            scanf(" %[^\n]", book[i].email);
            printf("\nRecord modified successfully!\n");
            break;
        }
    }
    if (!found)
        printf("\nRecord not found!\n");
}

int main() {
    int choice;
    while (1) {
        printf("\n===== ADDRESS BOOK MENU =====");
        printf("\n1. Create Address Book");
        printf("\n2. View Address Book");
        printf("\n3. Insert Record");
        printf("\n4. Delete Record");
        printf("\n5. Modify Record");
        printf("\n6. Exit");
        printf("\nEnter your choice: ");
        scanf("%d", &choice);

        switch (choice) {
            case 1: createBook(); break;
            case 2: viewBook(); break;
            case 3: insertRecord(); break;
            case 4: deleteRecord(); break;
            case 5: modifyRecord(); break;
            case 6: exit(0);
            default: printf("\nInvalid choice! Try again.\n");
        }
    }
    return 0;
}
